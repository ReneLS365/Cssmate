function runWhenIdle(t){"function"!=typeof requestIdleCallback?setTimeout(t,150):requestIdleCallback(t,{timeout:1500})}let bootstrapPromise=null;function shouldMountDiagnostics(){if("undefined"==typeof window)return!1;try{return"1"===new URLSearchParams(window.location.search).get("diag")||(window.location.pathname.startsWith("/diag")||window.location.pathname.startsWith("/_diag"))}catch(t){return!1}}function shouldResetApp(){if("undefined"==typeof window)return!1;try{return"1"===new URLSearchParams(window.location.search).get("reset")}catch(t){return!1}}function bootstrapDiagnostics(){if("undefined"==typeof window)return;const t=shouldResetApp(),e=shouldMountDiagnostics();(t||e)&&import("./src/ui/auth-diagnostics.js").then(o=>{t&&"function"==typeof o?.startResetFlow?o.startResetFlow():e&&"function"==typeof o?.mountDiagnostics&&o.mountDiagnostics({forceVisible:!0,allowSwReset:!0})}).catch(t=>{console.warn("Kunne ikke starte auth diagnostics",t)})}function scheduleBootstrap(){"undefined"!=typeof document&&document.documentElement.classList.add("app-booting"),bootstrapDiagnostics();const t=()=>{runWhenIdle(()=>{bootstrapPromise||(bootstrapPromise=import("./app-main.js").then(t=>t?.bootstrapApp?.()).catch(t=>{bootstrapPromise=null,console.warn("Kunne ikke starte Cssmate",t)}))})};"function"==typeof requestAnimationFrame?requestAnimationFrame(()=>t()):t()}"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",scheduleBootstrap,{once:!0}):scheduleBootstrap());export async function applyImportedAkkordData(...t){const e=await import("./app-main.js");if("function"!=typeof e?.applyImportedAkkordData)throw new Error("applyImportedAkkordData er ikke tilg√¶ngelig");return e.applyImportedAkkordData(...t)}